{{ headerEmpty }}

<div class="registerSeller">
	<div class="registerSeller__bg"></div>
	<div class="container">
		<div class="registerSeller__top">
			<div class="registerSeller__logo">	
				<svg width="167" height="47" viewBox="0 0 167 47" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M167 0H0V5.09167V37.9917V47H167V0Z" fill="url(#pattern0)"/>
				<mask id="mask0_178_7285" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="167" height="47">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M167 0H0V5.09167V37.9917V47H167V0Z" fill="url(#pattern1)"/>
				</mask>
				<g mask="url(#mask0_178_7285)">
				<path d="M0 3.5H11L13 11L15 14.5L20.5 16L22.5 16.5H24H25.5L28 17L30 18L31.5 20L33 21L33.5 19.5L34 17.5L40.5 8.5L110.5 6.5L157.5 11H167.5L172 22.5V43.5L130.5 55H104.5L23.5 53.5L-7 44.5C-7.33333 39.8333 -8 30.3 -8 29.5C-8 28.7 -5 13.1667 -3.5 5.5L0 3.5Z" fill="white"/>
				<path d="M14.5 1.5L20 16L26 16.5L28.5 17L31.5 19.5L33.5 20.5L37 14.5L50 9L170.5 11L181 -7L14.5 1.5Z" fill="#FFC038" stroke="black"/>
				</g>
				<defs>
				<pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
				<use xlink:href="#image0_178_7285" transform="scale(0.00232558 0.00833333)"/>
				</pattern>
				<pattern id="pattern1" patternContentUnits="objectBoundingBox" width="1" height="1">
				<use xlink:href="#image0_178_7285" transform="scale(0.00232558 0.00833333)"/>
				</pattern>
				<image id="image0_178_7285" width="430" height="120" xlink:href="data:image/png;base64,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"/>
				</defs>
				</svg>
			</div>
			<div class="registerSeller__already">{{ text_account_already }}</div>
		</div>
		<div class="registerSeller__wrap">
			<div class="registerSeller__left">
				<h1 class="registerSeller__title">Миссия Hampi—выступать гарантом в сделке между компаниями</h1>
				{{ banner }}
			</div>
			<div class="registerSeller__right">
				<h3 class="registerSeller__subtitle">{{ heading_title }}</h3>
				  {% if error_warning %}
				  	<div class="alert alert-danger alert-dismissible"><i class="fa fa-exclamation-circle"></i> {{ error_warning }}</div>
				  {% endif %}
				<div class="registerSeller__form">
					<form action="{{ action }}" method="post" enctype="multipart/form-data">
						
						<input type="text" class="hidden" name="seller" value="1">
						<div class="registerSeller__steps">
							<div class="registerSeller__steps-item active">
								<h3 class="registerSeller__steps-title">Контактное лицо</h3>
								<div class="form-group required{% if error_sellerfio %} has-error{% endif %}">
									<label for="" class="control-label">{{ entry_sellerfio }}</label>
									<input type="text" name="sellerfio" value="{{ sellerfio }}" class="form-control loginbox__input" />
									{% if error_sellerfio %}
									<div class="text-danger">{{ error_sellerfio }}</div>
									{% endif %}
								</div>
								<div class="form-group required{% if error_email %} has-error{% endif %}">
									<label for="" class="control-label">{{ entry_email }}</label>
									<input type="email" name="email" value="{{ email }}" class="form-control maskEmail loginbox__input" />
									{% if error_email %}
									<div class="text-danger">{{ error_email }}</div>
									{% endif %}
								</div>
								<div class="form-group required{% if error_telephone %} has-error{% endif %}">
									<label for="input-telephone" class="control-label">{{ entry_telephone }}</label>
									  <input type="tel" name="telephone" value="{{ telephone }}" id="input-telephone" class="form-control mask loginbox__input" />
									  {% if error_telephone %}
									  <div class="text-danger">{{ error_telephone }}</div>
									  {% endif %}
								</div>
								<input type="password" name="confirm" value="{{ confirm }}" class="hidden" />
								<input type="password" name="password" value="{{ password }}" class="hidden" />
								<div class="registerSeller__steps-buttons">
									<a href="#" class="registerSeller__steps-button" data-step="2">Далее</a>
								</div>
							</div>
							<div class="registerSeller__steps-item">
								<h3 class="registerSeller__steps-title">Данные компании</h3>
								{{ sellerFields }}
								{{ captcha }}
								<div class="registerSeller__agree">
									{% if text_agree %}
										{% if agree %}
										<input type="checkbox" name="agree" value="1" checked="checked" />
										{% else %}
										<input type="checkbox" name="agree" value="1" />
										{% endif %}
										 {{ text_agree }}
									{% endif %}
								</div>
								<div class="registerSeller__steps-buttons">
									<a href="#" class="registerSeller__steps-button" data-step="1">Назад</a>
									<input type="submit" value="{{ button_send }}" class="registerSeller__steps-button" />
								</div>
							</div>
						</div>
						
						<fieldset id="account" class="hidden">
						  <div class="form-group required" style="display: {% if customer_groups|length > 1 %} block {% else %} none {% endif %};">
							<label class="col-sm-2 control-label">{{ entry_customer_group }}</label>
							<div class="col-sm-10">{% for customer_group in customer_groups %}
							  {% if customer_group.customer_group_id == customer_group_id %}
							  <div class="radio">
								<label>
								  <input type="radio" name="customer_group_id" value="{{ customer_group.customer_group_id }}" checked="checked" />
								  {{ customer_group.name }}</label>
							  </div>
							  {% else %}
							  <div class="radio">
								<label>
								  <input type="radio" name="customer_group_id" value="{{ customer_group.customer_group_id }}" />
								  {{ customer_group.name }}</label>
							  </div>
							  {% endif %}
							  {% endfor %}</div>
							</div>
						  
						</fieldset>
					  </form>
				</div>
			</div>
		</div>
	</div>
</div>
<link href="https://cdn.jsdelivr.net/npm/suggestions-jquery@21.12.0/dist/css/suggestions.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/suggestions-jquery@21.12.0/dist/js/jquery.suggestions.min.js"></script>
<script type="text/javascript">
	//masks
	$("input.mask").inputmask("+7 (999) 999-99-99");
	$("input.maskEmail").inputmask("email");
	
	var dadataToken = "2665fdf7fc2ea41b7ae830eb47ca0d0379c543f7";
	//autocomplete address
	$('[name="field_30"]').suggestions({
		token: dadataToken,
		type: "ADDRESS"
	});
	
	//поиск по инн
	$("[name='field_inn']").keyup(function(){
		var url = "https://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/party";
		var token = dadataToken;
		var query = $(this).val();
//		console.log(query);

		var options = {
			method: "POST",
			mode: "cors",
			headers: {
				"Content-Type": "application/json",
				"Accept": "application/json",
				"Authorization": "Token " + token
			},
			body: JSON.stringify({query: query})
		}

		fetch(url, options)
		.then(response => response.text())
		.then(result => changeByInn(result))
		.catch(error => console.log("error", error));
	});
	
	//подставить значения после инн
	function changeByInn(result=""){
		var suggestions = JSON.parse(result).suggestions;
//		console.log(suggestions);
		$("[name='field_21']").val(suggestions[0].value);
		if (suggestions[0].data.address !== null)
			$("[name='field_30']").val(suggestions[0].data.address.unrestricted_value);
		if (suggestions[0].data.phones !== null)
			$("[name='field_33']").val(suggestions[0].data.phones.source);
		if (suggestions[0].data.emails !== null)
			$("[name='field_34']").val(suggestions[0].data.emails.source);
		var companyType = "Юридическое лицо";
		if (suggestions[0].data.type == "LEGAL")
			companyType = "Юридическое лицо";
		if (suggestions[0].data.type == "INDIVIDUAL")
			companyType = "Индивидуальный предприниматель";
		$("[name='field_8']").val(companyType);
		$("[name='field_9']").val(suggestions[0].data.name.short_with_opf);
		$("[name='field_24']").val(suggestions[0].data.kpp);
		$("[name='field_25']").val(suggestions[0].data.ogrn);
		if (typeof(suggestions[0].data.fio) != "undefined" && suggestions[0].data.fio !== null) {
			var ipFIO = "";
			if (typeof(suggestions[0].data.fio.surname) != "undefined" && suggestions[0].data.fio.surname !== null)
				ipFIO += suggestions[0].data.fio.surname;
			if (typeof(suggestions[0].data.fio.name) != "undefined" && suggestions[0].data.fio.name !== null)
				ipFIO += " "+suggestions[0].data.fio.name;
			if (typeof(suggestions[0].data.fio.patronymic) != "undefined" && suggestions[0].data.fio.patronymic !== null)
				ipFIO += " "+suggestions[0].data.fio.patronymic;
			$("[name='field_13']").val(ipFIO);
		}
		if (typeof(suggestions[0].data.management) != "undefined" && suggestions[0].data.management !== null) {
			$("[name='field_32']").val(suggestions[0].data.management.name);
			$("[name='field_31']").val(suggestions[0].data.management.post);
		}
		if (typeof(suggestions[0].data.state) != "undefined" && suggestions[0].data.state !== null) {
			$("[name='field_22']").val(new Date(suggestions[0].data.state.registration_date).toLocaleDateString("ru-RU"));
			const companyStatus = new Map([
			  ['ACTIVE', 'Действующая'],
			  ['LIQUIDATING', 'Ликвидируется'],
			  ['LIQUIDATED', 'Ликвидирована'],
			  ['BANKRUPT', 'Банкротство'],
			  ['REORGANIZING', 'В процессе ликвидации']
			]);
			$("[name='field_23']").val(companyStatus.get(suggestions[0].data.state.status));
		}
	}
</script>
<script type="text/javascript"><!--
// Sort the custom fields
$('#account .form-group[data-sort]').detach().each(function() {
	if ($(this).attr('data-sort') >= 0 && $(this).attr('data-sort') <= $('#account .form-group').length) {
		$('#account .form-group').eq($(this).attr('data-sort')).before(this);
	}

	if ($(this).attr('data-sort') > $('#account .form-group').length) {
		$('#account .form-group:last').after(this);
	}

	if ($(this).attr('data-sort') == $('#account .form-group').length) {
		$('#account .form-group:last').after(this);
	}

	if ($(this).attr('data-sort') < -$('#account .form-group').length) {
		$('#account .form-group:first').before(this);
	}
});

$('input[name=\'customer_group_id\']:checked').trigger('change');
//--></script> 
<script type="text/javascript"><!--
$('button[id^=\'button-custom-field\']').on('click', function() {
	var element = this;

	$('#form-upload').remove();

	$('body').prepend('<form enctype="multipart/form-data" id="form-upload" style="display: none;"><input type="file" name="file" /></form>');

	$('#form-upload input[name=\'file\']').trigger('click');

	if (typeof timer != 'undefined') {
    	clearInterval(timer);
	}

	timer = setInterval(function() {
		if ($('#form-upload input[name=\'file\']').val() != '') {
			clearInterval(timer);

			$.ajax({
				url: 'index.php?route=tool/upload',
				type: 'post',
				dataType: 'json',
				data: new FormData($('#form-upload')[0]),
				cache: false,
				contentType: false,
				processData: false,
				beforeSend: function() {
					$(element).button('loading');
				},
				complete: function() {
					$(element).button('reset');
				},
				success: function(json) {
					$(element).parent().find('.text-danger').remove();

					if (json['error']) {
						$(node).parent().find('input').after('<div class="text-danger">' + json['error'] + '</div>');
					}

					if (json['success']) {
						alert(json['success']);

						$(element).parent().find('input').val(json['code']);
					}
				},
				error: function(xhr, ajaxOptions, thrownError) {
					alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
				}
			});
		}
	}, 500);
});
//--></script> 
<script type="text/javascript"><!--
$('.date').datetimepicker({
	language: '{{ datepicker }}',
	pickTime: false
});

$('.time').datetimepicker({
	language: '{{ datepicker }}',
	pickDate: false
});

$('.datetime').datetimepicker({
	language: '{{ datepicker }}',
	pickDate: true,
	pickTime: true
});

  $('.registerSeller__steps').delegate('button[id^=\'button-seller-field\']', 'click', function() {
    var node = this;

    $('#form-upload').remove();

    $('body').prepend('<form enctype="multipart/form-data" id="form-upload" style="display: none;"><input type="file" name="file" /></form>');

    $('#form-upload input[name=\'file\']').trigger('click');

    if (typeof timer != 'undefined') {
        clearInterval(timer);
    }

    timer = setInterval(function() {
      if ($('#form-upload input[name=\'file\']').val() != '') {
        clearInterval(timer);

        $.ajax({
          url: 'index.php?route=tool/upload/upload&user_token={{ user_token }}',
          type: 'post',
          dataType: 'json',
          data: new FormData($('#form-upload')[0]),
          cache: false,
          contentType: false,
          processData: false,
          beforeSend: function() {
            $(node).button('loading');
          },
          complete: function() {
            $(node).button('reset');
          },
          success: function(json) {
            $(node).parent().find('.text-danger').remove();

            if (json['error']) {
              $(node).parent().find('input[type=\'hidden\']').after('<div class="text-danger">' + json['error'] + '</div>');
            }

            if (json['success']) {
              alert(json['success']);
            }

            if (json['code']) {
              $(node).parent().find('input[type=\'hidden\']').val(json['code']);
              $(node).parent().find('input[type=\'hidden\']').attr("file_name",json['filename']);
				$(node).parent().find("a").remove();
			  $(node).parent().append(json['filelink']);
            }
          },
          error: function(xhr, ajaxOptions, thrownError) {
            alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
          }
        });
      }
    }, 500);
  });

//--></script> 
{{ footerEmpty }} 